plugins {
    id 'com.commercehub.gradle.plugin.avro' version '0.99.99'
    id 'java-library'
}

repositories {
    mavenCentral()

    maven {
        url = uri('http://packages.confluent.io/maven/')
    }
}

dependencies {
    implementation 'org.apache.kafka:kafka_2.12:2.7.0'
    implementation 'io.confluent:kafka-avro-serializer:5.5.0'
    implementation 'org.apache.avro:avro:1.10.1'

    testImplementation 'org.junit.jupiter:junit-jupiter-api:5.7.1'
    testImplementation 'org.junit.jupiter:junit-jupiter-engine:5.7.1'

    compileOnly 'org.projectlombok:lombok:1.18.18'
	annotationProcessor 'org.projectlombok:lombok:1.18.16'

}

group = 'io.github.kattlo'
version = '1.0.0'
description = 'Piemok'

java.sourceCompatibility = JavaVersion.VERSION_11

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

test {
	useJUnitPlatform()
}

avro {
    fieldVisibility = "PRIVATE"
    stringType = "CharSequence"
}

sourceSets.main.java.srcDirs += 'build/generated-main-avro-java'
